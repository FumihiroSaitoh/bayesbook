args = commandArgs()
basename = sub(".R$", "", sub("^--file=(.*/)?", "", args[grep("^--file=", args)]))
if (length(basename) != 0)
    pdf(file=paste0(basename, "_tmp.pdf"), colormodel="gray", width=7, height=4)
par(family="Palatino")
par(mgp=c(1.5,0.5,0)) # title and axis margins. default: c(3,1,0)
par(mar=c(2,2,1,1)+0.1) # bottom, left, top, right margins. default: c(5,4,4,2)+0.1

plot(NULL, xlim=c(0,1), ylim=c(0,0.5), asp=1, xlab="", ylab="")
segments(0, 0, 0.35, 0, lwd=2)
segments(0.35, 0, 1, 0, lwd=2, col=gray(0.7))
segments(0.35, 0, 0.35, sqrt(0.35*(1-0.35)))
segments(0, 0, 0.35, sqrt(0.35*(1-0.35)))
segments(1, 0, 0.35, sqrt(0.35*(1-0.35)), col=gray(0.7))
segments(0.33, 0, 0.33, 0.02)
segments(0.33, 0.02, 0.35, 0.02)
t1 = seq(pi, acos(-0.3), length.out=40)
t2 = seq(acos(-0.3), 0, length.out=60)
lines(cos(t1)/2+0.5, sin(t1)/2, lwd=2)
lines(cos(t2)/2+0.5, sin(t2)/2, lwd=2, col=gray(0.7))
text(0.35/2, 0.02, expression(italic(x)))
text((1+0.35)/2, 0.02, expression(1 - italic(x)))
text(0.19, 0.22, expression(sqrt(italic(x))))
text(0.7, 0.27, expression(sqrt(1 - italic(x))))
text(0.42, 0.22, expression(sqrt(italic(x) (1 - italic(x)))))
text(0.05, 0.33, expression("arcsin" * sqrt(italic(x))))
text(0.9, 0.41, expression("arcsin" * sqrt(1 - italic(x))))

dev.off()
embedFonts(paste0(basename, "_tmp.pdf"), outfile=paste0(basename, ".pdf"),
           options="-c \"<</NeverEmbed []>> setdistillerparams\" -f ")
